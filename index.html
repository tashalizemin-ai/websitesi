
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aka YapÄ± â€“ TaÅŸ HalÄ± & Mekanik Cephe</title>
  <meta name="description" content="Profesyonel taÅŸ halÄ± ve mekanik cephe uygulamalarÄ±. Usta ekip, ÅŸeffaf fiyat, zamanÄ±nda teslim.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--gap:24px;--radius:14px}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,sans-serif;background:#fff;color:#222;line-height:1.65}
    header{background:#111;color:#fff;text-align:center;padding:24px}
    header h1{margin:0;font-size:clamp(24px,3.2vw,36px)}
    header p{margin:8px 0 0;opacity:.9}

    section{max-width:1280px;margin:40px auto;padding:0 24px}
    h2{font-size:clamp(20px,2.2vw,26px);margin:0 0 16px;color:#111}

    /* Galeri */
    #gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:var(--gap)}
    @media(min-width:900px){
      #gallery{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}
    }
    .card{position:relative;border-radius:var(--radius);overflow:hidden;background:#f6f6f6;box-shadow:0 8px 20px rgba(0,0,0,.12);transform:translateZ(0)}
    .card img{width:100%;height:300px;object-fit:cover;display:block;transition:transform .35s ease}
    .card:hover img{transform:scale(1.04)}
    .card figcaption{position:absolute;left:12px;bottom:12px;color:#fff;font-weight:700;
      text-shadow:0 3px 10px rgba(0,0,0,.7);font-size:14px;letter-spacing:.2px}

    /* Lightbox */
    .lb{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;z-index:9999}
    .lb.show{display:flex}
    .lb img{max-width:95vw;max-height:90vh;border-radius:12px}

    /* Daha Fazla butonu */
    .more-wrap{display:flex;justify-content:center;margin-top:26px}
    .more{background:#111;color:#fff;border:0;border-radius:10px;padding:12px 18px;cursor:pointer;font-weight:700}
    .more:disabled{opacity:.5;cursor:not-allowed}

    footer{background:#111;color:#fff;text-align:center;padding:24px;margin-top:40px}
    footer a{color:#ffcc00;text-decoration:none}
    .whatsapp{display:inline-block;margin-top:10px;background:#25D366;color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:600}
  </style>
</head>
<body>
  <header>
    <h1>Aka YapÄ±</h1>
    <p>TaÅŸ HalÄ± Zemin &amp; Mekanik Cephe Sistemleri</p>
  </header>

  <section>
    <h2>HakkÄ±mÄ±zda</h2>
    <p>Profesyonel taÅŸ halÄ± ve mekanik cephe uygulamalarÄ±yla mekanlarÄ±nÄ±za deÄŸer katÄ±yoruz.
      Usta ekip, ÅŸeffaf fiyat politikasÄ± ve zamanÄ±nda teslim anlayÄ±ÅŸÄ±mÄ±zla gÃ¼veninizi kazanÄ±yoruz.</p>
  </section>

  <section>
    <h2>FotoÄŸraf Galerisi</h2>
    <div id="gallery"><div>FotoÄŸraflar yÃ¼kleniyorâ€¦</div></div>
    <div class="more-wrap"><button id="moreBtn" class="more" style="display:none">Daha Fazla GÃ¶ster</button></div>
  </section>

  <div class="lb" id="lb"><img alt=""></div>

  <footer>
    <p>ğŸ“ 0507 764 47 21 | âœ‰ï¸ <a href="mailto:info@akayapi.com">info@akayapi.com</a></p>
    <a class="whatsapp" href="https://wa.me/905077644721" target="_blank">WhatsApp ile Teklif Al</a>
  </footer>

  <script>
    const owner="tashalizemin-ai", repo="websitesi", branch="main";
    // KÃ¶k + yaygÄ±n klasÃ¶r adlarÄ± (TÃ¼rkÃ§e/Ä°ngilizce) + 1 seviye alt klasÃ¶r
    const roots=["","assets","varlÄ±klar","varliklar","fotoÄŸraf","fotograf"];
    const exts=[".jpg",".jpeg",".png",".webp",".gif",".JPG",".JPEG",".PNG",".WEBP",".GIF"];
    const gal=document.getElementById("gallery"), seen=new Set();
    const moreBtn=document.getElementById("moreBtn");
    const CHUNK=24; let all=[], idx=0;

    function pretty(n){return n.replace(/\.[^.]+$/,'').replace(/[-_]+/g,' ').trim()||"Ã‡alÄ±ÅŸma"}
    function addCard(src,name){
      if(seen.has(src)) return; seen.add(src);
      const fig=document.createElement("figure"); fig.className="card";
      const img=new Image(); img.loading="lazy"; img.src=src; img.alt=name;
      const cap=document.createElement("figcaption"); cap.textContent=name;
      fig.append(img,cap);
      fig.onclick=()=>{const lb=document.getElementById("lb"); lb.querySelector("img").src=src; lb.classList.add("show");};
      gal.append(fig);
    }
    document.getElementById("lb").onclick=e=>e.currentTarget.classList.remove("show");
    window.addEventListener("keydown",e=>{ if(e.key==="Escape") document.getElementById("lb").classList.remove("show"); });

    async function list(path){
      const encoded = path ? encodeURI(path) : "";
      const r=await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${encoded}`);
      if(!r.ok) return []; return r.json();
    }
    async function listRecursive(base){
      const out=[]; try{
        const items=await list(base);
        for(const it of items){
          if(it.type==="file" && exts.some(ext=>it.name.endsWith(ext))) out.push(it);
          if(it.type==="dir"){ // 1 seviye alt klasÃ¶r
            const sub=await list(base?`${base}/${it.name}`:it.name);
            sub.forEach(s=>{ if(s.type==="file" && exts.some(ext=>s.name.endsWith(ext))) out.push(s); });
          }
        }
      }catch(e){}
      return out;
    }
    function renderMore(){
      const end=Math.min(idx+CHUNK, all.length);
      for(; idx<end; idx++){
        const it=all[idx];
        const src = it.download_url || `https://raw.githubusercontent.com/${owner}/${repo}/${branch}/${it.path}`;
        addCard(src, pretty(it.name));
      }
      moreBtn.style.display = (idx<all.length) ? "inline-block" : "none";
      moreBtn.disabled = !(idx<all.length);
    }
    (async()=>{
      gal.innerHTML="";
      for(const root of roots){ all = all.concat(await listRecursive(root)); }
      // AynÄ± dosya adlarÄ±nÄ± temizle & isimce sÄ±rala
      const seenPaths=new Set(); all = all.filter(it=>{ if(seenPaths.has(it.path)) return false; seenPaths.add(it.path); return true; })
                                           .sort((a,b)=>a.name.localeCompare(b.name, "tr"));
      if(!all.length){ gal.innerHTML="<div>HenÃ¼z gÃ¶rsel bulunamadÄ±.</div>"; return; }
      renderMore();
      moreBtn.onclick=renderMore;
    })();
  </script>
</body>
</html>
